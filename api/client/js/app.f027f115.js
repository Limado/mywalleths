(function(e){function t(t){for(var s,l,c=t[0],o=t[1],i=t[2],d=0,f=[];d<c.length;d++)l=c[d],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&f.push(r[l][0]),r[l]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);u&&u(t);while(f.length)f.shift()();return n.push.apply(n,i||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,c=1;c<a.length;c++){var o=a[c];0!==r[o]&&(s=!1)}s&&(n.splice(t--,1),e=l(l.s=a[0]))}return e}var s={},r={app:0},n=[];function l(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=s,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(a,s,function(t){return e[t]}.bind(null,s));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var i=0;i<c.length;i++)t(c[i]);var u=o;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"034f":function(e,t,a){"use strict";a("85ec")},1:function(e,t){},10:function(e,t){},11:function(e,t){},"11fd":function(e,t,a){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},16:function(e,t){},17:function(e,t){},18:function(e,t){},19:function(e,t){},"1f99":function(e,t,a){"use strict";a("c2a0")},2:function(e,t){},20:function(e,t){},3:function(e,t){},"32f1":function(e,t,a){},4:function(e,t){},"4af6":function(e,t,a){},5:function(e,t){},6:function(e,t){},7:function(e,t){},"78a3":function(e,t,a){},8:function(e,t){},"85ec":function(e,t,a){},9:function(e,t){},bd84:function(e,t,a){},c2a0:function(e,t,a){},c2e1:function(e,t,a){"use strict";a("4af6")},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("b-container",[a("b-row",[a("b-col",[a("RequestAlert",{attrs:{requestError:e.requestError,requestErrorMessage:e.requestErrorMessage}})],1)],1),a("b-row",[a("b-col",[a("LeftPanel")],1),a("b-col",{attrs:{cols:"8"}},[a("RightPanel")],1)],1)],1)],1)},n=[],l=a("5530"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Panel"},[a("AddItem"),a("ListItem")],1)},o=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-row",{staticClass:"inline"},[a("b-col",{attrs:{lg:"9",sm:"12"}},[a("h4",{staticClass:"mt-2",attrs:{for:"text-address"}},[e._v("My wallets")])]),a("b-col",{attrs:{lg:"3",sm:"12"}},[a("b-button",{staticClass:"w-100",attrs:{block:"",variant:"primary"},on:{click:function(t){return e.sortWallets(!0)}}},[e._v("Order")])],1)],1),a("b-list-group",{staticClass:"list"},e._l(e.wallets,(function(e){return a("Item",{key:e._id,attrs:{item:e}})})),1)],1)},u=[],d=a("2f62"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-list-group-item",{staticClass:"item",class:e.wallet._id==e.item._id?"itemActive":"",attrs:{disabled:e.callingApi},on:{click:e.onClick}},[e._v(" "+e._s(e.item.name)+" "),a("b-icon",{directives:[{name:"show",rawName:"v-show",value:e.item.isFavourite,expression:"item.isFavourite"}],staticClass:"icon",attrs:{icon:"star-fill"}})],1)},b=[],m=a("1da1"),p=(a("96cf"),s["default"].extend({name:"Item",props:{item:Object},computed:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(d["e"])("ExchangeStore",["rates","rate"])),Object(d["e"])("RequestStore",["callingApi"])),Object(d["e"])("WalletsStore",["wallet"])),methods:Object(l["a"])(Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(d["d"])("WalletsStore",["setCalculatedBalance"])),Object(d["d"])("RequestStore",["setCallingApi"])),Object(d["b"])("WalletsStore",["getWallet"])),{},{onClick:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setCallingApi(!0),t.next=3,e.getWallet(e.item._id);case 3:e.setCallingApi(!1),e.setCalculatedBalance({balance:e.wallet.balance,rate:e.rates[e.rate]});case 5:case"end":return t.stop()}}),t)})))()}})})),h=p,v=(a("1f99"),a("2877")),g=Object(v["a"])(h,f,b,!1,null,"278415e0",null),O=g.exports,w=s["default"].extend({components:{Item:O},name:"ListItems",computed:Object(l["a"])({},Object(d["e"])("WalletsStore",["wallets"])),methods:Object(l["a"])(Object(l["a"])({},Object(d["b"])("WalletsStore",["getWallets"])),Object(d["d"])("WalletsStore",["sortWallets"])),mounted:function(){this.getWallets()}}),j=w,S=(a("c2e1"),Object(v["a"])(j,i,u,!1,null,"63af05b2",null)),x=S.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-form",{attrs:{inline:""}},[a("h4",{staticClass:"mt-2",attrs:{for:"text-address"}},[e._v("Add new wallet")]),a("b-row",{staticClass:"inline"},[a("b-col",{attrs:{lg:"12",sm:"12"}},[a("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{placeholder:"Wallet name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),a("b-row",{staticClass:"inline"},[a("b-col",{attrs:{lg:"9",sm:"12"}},[a("b-form-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{placeholder:"Wallet address 0x..."},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),a("b-col",{attrs:{lg:"3",sm:"12"}},[a("b-button",{staticClass:"w-100",attrs:{block:"",variant:"primary",disabled:e.address.length<=0||e.name.length<=0||e.callingApi},on:{click:e.add}},[e._v("Add")])],1)],1)],1)],1)},q=[],E=(a("b0c0"),s["default"].extend({name:"AddItem",data:function(){return{name:"",address:""}},computed:Object(l["a"])({},Object(d["e"])("RequestStore",["callingApi"])),methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(d["b"])("WalletsStore",["addWallet","getWallets"])),Object(d["d"])("RequestStore",["setCallingApi"])),{},{add:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setCallingApi(!0),t.next=3,e.addWallet({name:e.name,address:e.address});case 3:e.setCallingApi(!1),e.name="",e.address="";case 6:case"end":return t.stop()}}),t)})))()}})})),R=E,W=(a("f305"),Object(v["a"])(R,_,q,!1,null,"f242d7f8",null)),C=W.exports,y=s["default"].extend({name:"LeftPanel",components:{ListItem:x,AddItem:C}}),k=y,A=Object(v["a"])(k,c,o,!1,null,"eb38e02c",null),F=A.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Right Panel"},[a("div",{staticClass:"mt-2 title",attrs:{for:"text-address"}},[e.isWalletSelected?e._e():a("h4",[e._v("Select a wallet")]),e.isWalletSelected?a("b-form-checkbox",{staticClass:"check",attrs:{name:"check-button",variant:"secondary",disabled:e.callingApi},on:{change:e.favourite},model:{value:e.wallet.isFavourite,callback:function(t){e.$set(e.wallet,"isFavourite",t)},expression:"wallet.isFavourite"}},[e._v("  "+e._s(e.wallet.name)+" is "+e._s(e.wallet.isFavourite?"":"not")+" "),a("b",[e._v("favourite")])]):e._e(),e.isWalletSelected?a("span",[e._v(" Address : "+e._s(e.wallet.address)+" ")]):e._e()],1),a("div",{staticClass:"isOld"},[a("b-alert",{attrs:{variant:"danger",show:e.isOld}},[a("b-icon-exclamation-triangle-fill"),e._v(" Wallet is old! First transaction on "+e._s(e.isOld?new Date(1e3*e.wallet.firstTransactionTS).toISOString():""))],1)],1),a("b-container",[a("b-row",[a("b-col",[a("ExchangeRate",{staticClass:"infoPanel"})],1),a("b-col",[a("WalletInfo",{staticClass:"infoPanel"})],1)],1)],1)],1)},I=[],P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-col",{staticClass:"walletInfo",attrs:{variant:"secondary"}},[a("span",{staticClass:"exchange-title mb-2"},[e._v("Exchange rate")]),a("div",{attrs:{id:"exchange-buttons"}},[a("b-iconstack",{directives:[{name:"show",rawName:"v-show",value:!e.editing,expression:"!editing"}],staticClass:"exchange-icon",on:{click:e.setEditing}},[a("b-icon",{attrs:{stacked:"",icon:"pencil-square"}})],1),a("b-iconstack",{directives:[{name:"show",rawName:"v-show",value:e.editing,expression:"editing"}],staticClass:"exchange-icon",on:{click:e.cancelEdit}},[a("b-icon",{attrs:{stacked:"",icon:"square"}}),a("b-icon",{attrs:{stacked:"",icon:"x"}})],1),a("b-iconstack",{directives:[{name:"show",rawName:"v-show",value:e.editing,expression:"editing"}],staticClass:"exchange-icon",on:{click:e.confirmEdit}},[a("b-icon",{attrs:{stacked:"",icon:"square"}}),a("b-icon",{attrs:{stacked:"",icon:"check"}})],1)],1),e.editing?a("b-form-input",{staticClass:"mb-2 mt-4 mr-sm-2 mb-sm-0",attrs:{id:"exchange-rate",placeholder:""},model:{value:e.rateValue,callback:function(t){e.rateValue=t},expression:"rateValue"}}):e._e(),e.editing?e._e():a("b-form-input",{staticClass:"mb-2 mt-4 mr-sm-2 mb-sm-0",attrs:{disabled:"",placeholder:""},model:{value:e.rates[e.rate],callback:function(t){e.$set(e.rates,e.rate,t)},expression:"rates[rate]"}})],1)},B=[],V=s["default"].extend({name:"ExchangeRate",data:function(){return{editing:!1,rateValue:""}},computed:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(d["e"])("ExchangeStore",["rates","rate"])),Object(d["e"])("WalletsStore",["wallet"])),Object(d["c"])("WalletsStore",["isWalletSelected"])),methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(d["b"])("ExchangeStore",["saveRate","getRates"])),Object(d["d"])("WalletsStore",["setCalculatedBalance"])),{},{setEditing:function(){this.editing=!0,this.rateValue=this.rates[this.rate]},cancelEdit:function(){this.editing=!1,this.rateValue=this.rates[this.rate]},confirmEdit:function(){this.editing=!1;var e=/^\d+(\.\d*)?$/;e.test(this.rateValue)?(this.saveRate(this.rateValue),this.setCalculatedBalance({balance:this.wallet.balance,rate:this.rateValue})):this.rateValue=this.rates[this.rate]}}),mounted:function(){this.getRates()}}),$=V,L=(a("fec1"),Object(v["a"])($,P,B,!1,null,"de14cc9a",null)),N=L.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-col",{staticClass:"walletInfo"},[e.isWalletSelected?a("span",{staticClass:"currency-title w-100 mb-2"},[e._v(" Ether: "+e._s(e.etherValue))]):e._e(),a("div",[a("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0 form-select mt-4",attrs:{id:"currency",options:e.options},on:{change:e.setBalance},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("div",{staticClass:"mt-2 currency-title w-100",attrs:{id:"balance"}},[e.isWalletSelected?a("span",[e._v(" Balance: "+e._s(Number(e.calculatedBalance).toLocaleString()))]):e._e(),e.isWalletSelected?a("span",[e._v(" "+e._s(e.currencySymbol))]):e._e()])],1)])},D=[],J=(a("7db0"),s["default"].extend({name:"WalletInfo",data:function(){return{balance:0,selected:"usd",options:[]}},computed:Object(l["a"])(Object(l["a"])(Object(l["a"])({currencySymbol:function(){var e,t,a=this;return(null===(e=this.options)||void 0===e||null===(t=e.find((function(e){return e.value==a.selected})))||void 0===t?void 0:t.symbol)||""}},Object(d["e"])("ExchangeStore",["rates"])),Object(d["e"])("WalletsStore",["wallet","calculatedBalance","etherValue"])),Object(d["c"])("WalletsStore",["isWalletSelected"])),methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(d["d"])("ExchangeStore",["selectRate"])),Object(d["d"])("WalletsStore",["setCalculatedBalance"])),{},{setBalance:function(){var e=this,t=this.options.find((function(t){return t.value==e.selected})).value;this.selectRate(t),this.setCalculatedBalance({balance:this.wallet.balance,rate:this.rates[this.selected]})}}),mounted:function(){this.options=[{value:"usd",text:"USD",symbol:"u$d"},{value:"euro",text:"Euro",symbol:"€"}]}})),U=J,z=(a("ef8e"),Object(v["a"])(U,T,D,!1,null,"5cb7f90b",null)),G=z.exports,H=s["default"].extend({name:"RightPanel",components:{ExchangeRate:N,WalletInfo:G},computed:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(d["e"])("WalletsStore",["wallet"])),Object(d["e"])("RequestStore",["callingApi"])),Object(d["c"])("WalletsStore",["isOld","isWalletSelected"])),methods:Object(l["a"])({},Object(d["b"])("WalletsStore",["favourite"]))}),K=H,Q=(a("d7f5"),Object(v["a"])(K,M,I,!1,null,"6ba45f1c",null)),X=Q.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-alert",{attrs:{show:"",fade:"",variant:e.requestError?"danger":"primary"}},[e._v(" "+e._s(e.requestErrorMessage||"Last request errors shown here.")+" "),a("br")])],1)},Z=[],ee=s["default"].extend({name:"RequestAlert",props:{requestErrorMessage:String,requestError:Boolean}}),te=ee,ae=Object(v["a"])(te,Y,Z,!1,null,null,null),se=ae.exports,re=s["default"].extend({name:"App",components:{LeftPanel:F,RightPanel:X,RequestAlert:se},data:function(){return{dismissSecs:10,dismissCountDown:0}},computed:Object(l["a"])(Object(l["a"])({},Object(d["e"])("RequestStore",["requestErrorMessage"])),Object(d["c"])("RequestStore",["requestError"])),methods:Object(l["a"])({},Object(d["d"])("RequestStore",["dissmissError"]))}),ne=re,le=(a("034f"),Object(v["a"])(ne,r,n,!1,null,null,null)),ce=le.exports,oe=(a("d3b7"),a("25f0"),a("4e82"),a("bc3a")),ie=a.n(oe),ue=ie.a.create({baseURL:"/"}),de=a("99e5"),fe=a.n(de),be={namespaced:!0,state:{sortFav:!0,etherValue:0,calculatedBalance:0,wallet:{},wallets:[]},mutations:{selectWallet:function(e,t){e.wallet=t},setCalculatedBalance:function(e,t){var a,s=fe.a.utils.fromWei((null===(a=t.balance)||void 0===a?void 0:a.toString())||"0");e.calculatedBalance=parseFloat(s)*parseFloat(t.rate),e.etherValue=s},setWallets:function(e,t){e.wallets=t},sortWallets:function(e,t){t&&(e.sortFav=!e.sortFav),e.wallets.sort((function(t,a){return t.isFavourite===a.isFavourite?0:t.isFavourite?e.sortFav?-1:1:e.sortFav?1:-1}))}},getters:{isOld:function(e){var t=31536e6,a=Date.now();return a-t>1e3*e.wallet.firstTransactionTS},isWalletSelected:function(e){return!!e.wallet._id}},actions:{getWallets:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,s=t.rootState,e.next=3,ue.get("/wallets").then((function(e){return s.RequestStore.requestError=!1,s.RequestStore.requestErrorMessage="",e.data})).catch((function(e){return console.log(e.response),s.RequestStore.requestError=!0,s.RequestStore.requestErrorMessage=e.response.data.message,[]}));case 3:r=e.sent,a("setWallets",r),a("sortWallets",!1);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getWallet:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,a){var s,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,r=t.rootState,e.next=3,ue.get("/wallets/".concat(a)).then((function(e){return r.RequestStore.requestError=!1,r.RequestStore.requestErrorMessage="",e.data})).catch((function(e){return console.log(e.response),r.RequestStore.requestError=!0,r.RequestStore.requestErrorMessage=e.response.data.message,[]}));case 3:n=e.sent,s("selectWallet",n);case 5:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),addWallet:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,a){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,s=t.dispatch,r=t.rootState,e.next=3,ue.post("/wallets",a).then((function(e){return r.RequestStore.requestError=!1,r.RequestStore.requestErrorMessage="",s("getWallets"),e.data})).catch((function(e){return console.log(e.response),r.RequestStore.requestError=!0,r.RequestStore.requestErrorMessage=e.response.data.message,[]}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),favourite:function(e){var t=e.dispatch,a=e.rootState,s=e.state;ue.put("/wallets/favourite/".concat(s.wallet._id),{isFavourite:s.wallet.isFavourite}).then((function(e){a.RequestStore.requestError=!1,a.RequestStore.requestErrorMessage="",t("getWallets")})).catch((function(e){console.log(e.response),a.RequestStore.requestError=!0,a.RequestStore.requestErrorMessage=e.response.data.message}))}},modules:{}},me=be,pe={namespaced:!0,state:{rate:"usd",rates:{usd:1,euro:1}},mutations:{selectRate:function(e,t){e.rate=t},changeRate:function(e,t){e.rates[e.rate]=t},setRates:function(e,t){e.rates=null!=t?t:e.rates}},actions:{getRates:function(e){var t=e.commit,a=localStorage.getItem("mywalleths_rates")||!1,s=a?JSON.parse(a):null;t("setRates",s)},saveRate:function(e,t){e.commit;var a=e.state;a.rates[a.rate]=t,localStorage.setItem("mywalleths_rates",JSON.stringify(a.rates))}},modules:{}},he=pe,ve={namespaced:!0,state:{callingApi:!1,requestError:!1,requestErrorMessage:""},mutations:{setCallingApi:function(e,t){e.callingApi=t}},actions:{},getters:{requestError:function(e){return e.requestError}},modules:{}},ge=ve;s["default"].use(d["a"]);var Oe=new d["a"].Store({state:{},mutations:{},actions:{},modules:{WalletsStore:me,ExchangeStore:he,RequestStore:ge}}),we=a("5f5b"),je=a("b1e0");a("f9e3"),a("2dd8"),a("5df9");s["default"].config.productionTip=!1,s["default"].use(we["a"]),s["default"].use(je["a"]),new s["default"]({store:Oe,render:function(e){return e(ce)}}).$mount("#app")},d7f5:function(e,t,a){"use strict";a("32f1")},ef8e:function(e,t,a){"use strict";a("11fd")},f305:function(e,t,a){"use strict";a("bd84")},fec1:function(e,t,a){"use strict";a("78a3")}});
//# sourceMappingURL=app.f027f115.js.map